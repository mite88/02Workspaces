<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--
        forEach()함수
        array의원소의 갯수만큼 반복하여 콜백함수 호출
        (filter()과유사)
    -->
    <script>
        //콜백함수에서의 반환값이 없어 단순출력됨
        console.error("forEachTest1() called..기본사용법 ");
        (function forEachTest1() {
            console.error("기본사용법");
            
            var testArray = [1, 2, 3, 4, 5];
            testArray.forEach(function (currentValue, index, array) {
                console.log('현재값 :' + currentValue, '인덱스:' + index, '배열:' + array);
            });
        })();

        console.error("forEachTest2() called..배열 요소의 합계");
        (function forEachTest2() {
            //배열선언
            var testArray = [1, 2, 3, 4, 5];
            //콜백함수내에서 사용할 변수 선언
            var sum = 0;
            //콜백함수를 외부에 선언(매개변수는 1개임)
            //인덱스 및 배열이 필요하지 않아 생략
            function getSum(value) {
                sum += value;
            }
            testArray.forEach(getSum);
            console.log(sum);
        })();

        console.error("forEachTest3() called.. thisArg 매개변수 사용하기");
        (function forEachTest3() {
            var testArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
            var sum = 0;

            function getSum(value) {
                /*thisArgs로 전달된 json객체를 조건에 활용 
                
                3이상 7이하 원소들만 변수에 누적해서 더함
                */
                if (value >= this.min && value <= this.max) {
                    sum += value;
                }
            }
            var thisArgs = { min: 3, max: 7 };
            testArray.forEach(getSum, thisArgs);
            console.log(sum);

        })(); 
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--
        filter()함수
        array의 원소 객수만큼 콜백함수가 반복호출되고, 
        조건에 맞는 원소만 반환하여 새로운 배열 생성
        

        var oldArr =[1,2,3....]
        oldArr.filter(callBackFunction (원소값, 인덱스, 배열) {
            return 필터링 할 조건
        },
            thisArgs
            //filter내부의 콜백함수에서 사용할 값(생략가능)
        );
    
    -->
    <script>
        console.error("filterTest1() called..기본사용법");
        (function filterTest1() {
            //기본배열선언
            var oldArray = [1, 2, 3, 4, 5];

            //기본배열의 원소 수 만큼 반복하여 각항목 출력
            var newArray = oldArray.filter(function (element, index, array) {
                console.log("현재인자값" + element);
                console.log("인덱스" + index);
                console.log("배열" + array);
            });
        })();

        /*
        함수 정의 및 즉시호촐
        (function 함수명(){
            실행부
        })();
        */
        console.error("filterTest2() called..조건에 맞는 엘리먼트만 추출");
        (function filterTest2() {
            var oldArray = [1, 2, 3, 4, 5];
            var newArray = oldArray.filter(function (elt, i, arr) {
                //각 원소중 3인하인 값만 추출 후 새로운 배열 저장
                return elt <= 3;
            });
            console.log("배열 :" + newArray);
        })();

        console.error("filterTest3() called..JSON 객체배열 사용 및 검색");
        (function filterTest3() {
            var objJsonArray = [
                { name: "혜빈", salary: 100000 },
                { name: "제인", salary: 200000 },
                { name: "나윤", salary: 300000 },
                { name: "주이", salary: 400000 },
                { name: "아인", salary: 500000 },
                { name: "낸시", salary: 600000 }
            ];
            var newJson = objIsonArray.filter(function (elt, i, arr) {
                console.log("현재요소의 이름=" + elt.name);
                //JSON객체의 급여가 300000이상인것을 추출 후 새로운 배열 저장
                return elt.salary >= 300000;
            }, undefined);
            console.log("newJson", newJson);
        })();

        console.error("filterTest4 called.. thisArg 매개변수 사용하기");
        (function filterTest4() {
            //기본배열
            var testArray = [1, 2, 3, 4, 5, 50, 100];
            //매개변수로 사용할 JSON
            var thisArg = { min: 1, max: 10 };
            //콜백함수 1~10 사이 추출
            function getMinMax(value) {
                return value >= this.min && value <= this.max;
            }
            var newArray = testArray.filter(getMinMax, thisArg);
            console.log('thisArgs 1821', newArray);
        })();

    </script>
</head>

<body>

</body>

</html>
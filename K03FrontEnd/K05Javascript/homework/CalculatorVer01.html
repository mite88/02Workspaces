<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>계산기</title>

    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-size: 24px;
        }

        section#calculator {
            border: 1px solid rgb(199, 199, 199);
            width: 100%;
            text-align: center;
            padding-top: 30px;
            padding-bottom: 30px;

        }

        #calculator,
        table {
            margin: auto;
            vertical-align: middle;
            width: 600px;
            background-color: #eee;
            border-radius: .4rem;
            border: 1px solid #eee;
            border-spacing: 10px;
        }

        /*table에서 넘침처리하는법*/
        table{table-layout: fixed;}

        table td{
            overflow:hidden;
            white-space : nowrap;
            text-overflow: ellipsis;
        }

        table td,
        table td>div {
            font-weight: bold;
            margin: auto;
            vertical-align: middle;
            height: 60px;
            text-align: center;
            padding: 10px;
            border-radius: .4rem;
            color: #fff;
            font-weight: bold;
        }

        table .calc_result {
            text-align: right;
            background-color: #04d704;
            color: #333;
            font-size: 34px;
            overflow: hidden;
        }

        table .number,
        table .op_result,
        table .op_back,
        .op_reset {
            background-color: #333;
            line-height: 60px;
            height: 100%;
            cursor: pointer;
        }

        table .op_back,
        .op_reset {
            width: 50%;
            background-color: #666;
        }

        table .op_symbol {
            background-color: orange;
            cursor: pointer;
        }
    </style>


    <script> 
       
       
        function reset_btn(){
            var result=document.getElementsByClassName('calc_result')[0];
           // var reset = document.getElementsByClassName('op_reset')[0];
            result.innerText = 0;
        }

        function back_btn(){
            var result=document.getElementsByClassName('calc_result')[0];
            var result_txt = result.innerText;
            result_txt=result_txt.substring(0, result_txt.length - 1);
            //alert(result_txt);

            if(result.innerText.length == 1){
                result.innerText = "0";
            }else{
                result.innerText = result_txt;
            }
        }

        function inputStr(str){
            var result=document.getElementsByClassName('calc_result')[0];
            var result_Text = "";
            if(result.innerText.indexOf("0") != -1){
                result.innerText = '';
            }
            
            if(str.innerText.indexOf("=") != -1){

                //result_Text=eval(document.getElementsByClassName('calc_result').innerText);
                result_Text=result.innerText;
                result.innerHTML = eval(result_Text);
                //alert( eval(result_Text));
            }else{
                result.innerText += str.innerText; 
            }
            

        }
    </script>


</head>

<body>

    <table>
        <tr>
            <td colspan="4" class="calc_result">0</td>
        </tr>
        <tr>
            <td colspan="2" class="op_back" onclick="back_btn();">BackSpace</td>
            <td colspan="2" class="op_reset" onclick="reset_btn();">C</td>
        </tr>
        <tr>
            <td class="number" onclick="inputStr(this);">1</td>
            <td class="number" onclick="inputStr(this);">2</td>
            <td class="number" onclick="inputStr(this);">3</td>
            <td class="op_symbol" onclick="inputStr(this);">/</td>
        </tr>
        <tr>
            <td class="number" onclick="inputStr(this);">4</td>
            <td class="number" onclick="inputStr(this);">5</td>
            <td class="number" onclick="inputStr(this);">6</td>
            <td class="op_symbol" onclick="inputStr(this);">*</td>
        </tr>
        <tr>
            <td class="number" onclick="inputStr(this);">7</td>
            <td class="number" onclick="inputStr(this);">8</td>
            <td class="number" onclick="inputStr(this);">9</td>
            <td class="op_symbol" onclick="inputStr(this);">+</td>
        </tr>
        <tr>
            <td class="op_result" onclick="inputStr(this);">=</td>
            <td class="number" onclick="inputStr(this);">0</td>
            <td class="number" onclick="inputStr(this);">.</td>
            <td class="op_symbol" onclick="inputStr(this);">-</td>
        </tr>
    </table>

</body>

</html>